!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,(function(){return function(e){function t(t){for(var r,o,i=t[0],u=t[1],l=t[2],f=0,m=[];f<i.length;f++)o=i[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(t);m.length;)m.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(r=!1)}r&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={0:0},c=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="./";var i=this.webpackJsonp=this.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var s=u;return c.push([126,1]),n()}({115:function(e,t,n){e.exports=function(){return new Worker(n.p+"worker.0e14a984af0a56ee9de8.js")}},126:function(e,t,n){e.exports=n(307)},155:function(e,t,n){(t=n(156)(!1)).push([e.i,".index__content___-z8nA {\n  padding: 50px;\n}\n\n@media only screen and (max-width: 992px) {\n  .index__content___-z8nA {\n    padding: 12px;\n  }\n}\n\n.index__time___1l8Y2 {\n  color: rgba(0, 0, 0, 0.25);\n  font-style: normal;\n  font-size: 14px;\n  text-align: left;\n}\n.index__subTitle___3Mm4P {\n  font-size: 40px;;\n}\n.index__center___24yEr {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 180px;\n}\n.index__row___hMNoQ{\n  margin-bottom: 12px;\n}\n.index__label___3H-Tm{\n  line-height: 32px;\n  margin-right: 8px;\n}\n.index__card___1B6WF{\n  min-height: 400px;\n}\n",""]),t.locals={content:"index__content___-z8nA",time:"index__time___1l8Y2",subTitle:"index__subTitle___3Mm4P",center:"index__center___24yEr",row:"index__row___hMNoQ",label:"index__label___3H-Tm",card:"index__card___1B6WF"},e.exports=t},22:function(e,t,n){var r=n(154),a=n(155);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var c={insert:"head",singleton:!1};r(a,c);e.exports=a.locals||{}},305:function(e,t,n){},307:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),o=n(13),i=n.n(o),u=n(40),l=n(14),s=n(11),f=n(49),m=n(74),p=n(112),_={},d=Object(s.a)(),b=Object(l.c)({router:Object(f.b)(d)}),y=Object(l.d)(Object(l.a)(Object(m.a)(d)),Object(l.a)(p.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}),h=Object(l.e)(b,_,y),O=n(9),x=(n(136),n(118)),E=n.n(x),v=(n(138),n(119)),j=n.n(v),g=(n(143),n(121)),w=n.n(g),P=(n(147),n(120)),S=n.n(P),M=n(114),N=n.n(M),D=n(41),T=n.n(D),k=(n(75),n(38)),z=n.n(k),R=(n(77),n(39)),A=n.n(R),C=n(115),F=n.n(C),H=n(22),W=n.n(H),X=n(116),B=n.n(X),I=n(19),J=n.n(I),L=n(42),Q=n.n(L);n(158);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){N()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=c.a.memo((function(e){return c.a.createElement(z.a,{className:W.a.title},c.a.createElement(A.a,{xs:24},e.room))}));var q=c.a.memo((function(){var e=Object(O.f)(),t=e.room,n=e.timecode,o=Object(a.useState)({current_number:0}),i=T()(o,2),u=i[0],l=i[1],s=Object(a.useState)(0),f=T()(s,2),m=f[0],p=f[1],_=Object(a.useState)({percent:100,status:"normal"}),d=T()(_,2),b=d[0],y=d[1],h=Object(a.useState)(!1),x=T()(h,2),v=x[0],g=x[1],P=Object(a.useCallback)((function(e){var t=e.target.value;requestAnimationFrame((function(){return p(J.a.toNumber(t))}))}),[]);Object(a.useEffect)((function(){return J.a.isEmpty(u)||g(!0),(r=new F.a).postMessage({type:"fetch",room:t,timeCode:n}),r.onmessage=function(e){l(V(V({},e.data),{},{total:J.a.size(e.data.list)})),g(!1)},function(){r&&r.terminate()}}),[t,n]);var M=c.a.createElement(Y,{room:u.room}),N=Object(a.useMemo)((function(){switch(n){case"1":return"上午";case"2":return"下午";case"3":return"晚上"}}),[n]);return Object(a.useEffect)((function(){var e,t=J.a.subtract(m,u.current_number),n=100*J.a.divide(u.current_number,m);switch(!0){case t<=5&&t>0:e="exception";break;case 0==t:e="success";break;default:e="active"}y({percent:n=t>0?n:100,status:e})}),[m,u.current_number]),Object(a.useEffect)((function(){}),[m,u.current_number]),c.a.createElement("div",{className:W.a.content},c.a.createElement(E.a,{spinning:v},c.a.createElement(j.a,{title:M,loading:J.a.isEmpty(u.room),className:W.a.card},c.a.createElement(z.a,{className:W.a.row},c.a.createElement(A.a,{xs:24},c.a.createElement("div",null,c.a.createElement(Q.a,{data:["看診時段",N]})),c.a.createElement("div",null,c.a.createElement(Q.a,{data:["最近更新",B()().format("MM-DD HH:mm")]})),c.a.createElement("div",null,c.a.createElement(Q.a,{data:["總人數",u.total]})),c.a.createElement("div",null,c.a.createElement(Q.a,{data:["過號人數",J.a.size(u.register)]}))),c.a.createElement(A.a,{xs:24},c.a.createElement("div",{className:W.a.center},c.a.createElement(S.a,{type:"circle",percent:b.percent,status:b.status,width:180,strokeWidth:8,format:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:W.a.subTitle},"".concat(u.current_number)))}})))),c.a.createElement(z.a,null,c.a.createElement(w.a,{style:{width:100},min:0,max:1024,type:"number",placeholder:"就診號",onChange:P})))))})),G=n(122),K=n.n(G),Z=n(123),$=n.n(Z),ee=n(124),te=n.n(ee),ne=n(125),re=n.n(ne),ae=n(71),ce=n.n(ae);function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ce()(e);if(t){var a=ce()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return re()(this,n)}}var ie=function(e){te()(n,e);var t=oe(n);function n(e){return K()(this,n),t.call(this,e)}return $()(n,[{key:"render",value:function(){return c.a.createElement("div",null,"404")}}]),n}(c.a.PureComponent),ue=function(){return c.a.createElement(f.a,{history:d},c.a.createElement(O.d,null,c.a.createElement(O.b,{exact:!0,path:"/",render:function(){return c.a.createElement(O.a,{to:"/appointment/511/1"})}}),c.a.createElement(O.b,{exact:!0,path:"/appointment/:room/:timecode",component:q}),c.a.createElement(O.b,{path:"*",component:ie})))};n(305);i.a.render(c.a.createElement(u.a,{store:h},c.a.createElement(ue,null)),document.getElementById("index"))}})}));