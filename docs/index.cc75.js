!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,(function(){return function(e){function t(t){for(var r,o,i=t[0],u=t[1],l=t[2],f=0,m=[];f<i.length;f++)o=i[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&m.push(a[o][0]),a[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(s&&s(t);m.length;)m.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(r=!1)}r&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={0:0},c=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="./";var i=this.webpackJsonp=this.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var s=u;return c.push([125,1]),n()}({114:function(e,t,n){e.exports=function(){return new Worker(n.p+"worker.e1e37f9b46cebf8ab087.js")}},125:function(e,t,n){e.exports=n(306)},154:function(e,t,n){(t=n(155)(!1)).push([e.i,".index__content___-z8nA {\n  padding: 50px;\n}\n\n@media only screen and (max-width: 992px) {\n  .index__content___-z8nA {\n    padding: 64px 24px;\n  }\n}\n\n.index__time___1l8Y2 {\n  color: rgba(0, 0, 0, 0.25);\n  font-style: normal;\n  font-size: 14px;\n  text-align: left;\n}\n.index__subTitle___3Mm4P {\n  font-size: 40px;;\n}\n.index__center___24yEr {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 180px;\n}\n.index__row___hMNoQ{\n  margin-bottom: 12px;\n}\n.index__label___3H-Tm{\n  line-height: 32px;\n  margin-right: 8px;\n}\n.index__card___1B6WF{\n  min-height: 400px;\n}\n",""]),t.locals={content:"index__content___-z8nA",time:"index__time___1l8Y2",subTitle:"index__subTitle___3Mm4P",center:"index__center___24yEr",row:"index__row___hMNoQ",label:"index__label___3H-Tm",card:"index__card___1B6WF"},e.exports=t},21:function(e,t,n){var r=n(153),a=n(154);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var c={insert:"head",singleton:!1};r(a,c);e.exports=a.locals||{}},304:function(e,t,n){},306:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),o=n(13),i=n.n(o),u=n(40),l=n(14),s=n(11),f=n(49),m=n(74),_=n(112),p={},d=Object(s.a)(),b=Object(l.c)({router:Object(f.b)(d)}),x=Object(l.d)(Object(l.a)(Object(m.a)(d)),Object(l.a)(_.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}),h=Object(l.e)(b,p,x),E=n(9),y=(n(135),n(117)),v=n.n(y),O=(n(137),n(118)),g=n.n(O),j=(n(142),n(120)),w=n.n(j),S=(n(146),n(119)),M=n.n(S),N=n(41),T=n.n(N),P=(n(75),n(38)),k=n.n(P),D=(n(77),n(39)),R=n.n(D),z=n(114),A=n.n(z),C=n(21),F=n.n(C),H=n(115),W=n.n(H),X=n(22),B=n.n(X),I=n(42),J=n.n(I),L=(n(157),c.a.memo((function(e){return c.a.createElement(k.a,{className:F.a.title},c.a.createElement(R.a,{xs:24},e.room))})));var Q=c.a.memo((function(){var e=Object(E.f)(),t=e.room,n=e.timecode,o=Object(a.useState)({current_number:0}),i=T()(o,2),u=i[0],l=i[1],s=Object(a.useState)(0),f=T()(s,2),m=f[0],_=f[1],p=Object(a.useState)({percent:100,status:"normal"}),d=T()(p,2),b=d[0],x=d[1],h=Object(a.useState)(!1),y=T()(h,2),O=y[0],j=y[1],S=Object(a.useCallback)((function(e){var t=B.a.toNumber(e.target.value);requestAnimationFrame((function(){return _(t)}))}),[]);Object(a.useEffect)((function(){return B.a.isEmpty(u)||j(!0),(r=new A.a).postMessage({type:"fetch",room:t,timeCode:n}),r.onmessage=function(e){l(e.data),j(!1)},function(){r&&r.terminate()}}),[t,n]);var N=c.a.createElement(L,{room:u.room}),P=Object(a.useMemo)((function(){switch(n){case"1":return"上午";case"2":return"下午";case"3":return"晚上"}}),[n]);return Object(a.useEffect)((function(){var e,t=B.a.subtract(m,u.current_number),n=100*B.a.divide(u.current_number,m);switch(!0){case t<=20&&t>0:e="exception";break;case 0==t:e="success";break;default:e="active"}x({percent:n=t>0?n:100,status:e})}),[m,u.current_number]),Object(a.useEffect)((function(){}),[m,u.current_number]),c.a.createElement("div",{className:F.a.content},c.a.createElement(v.a,{spinning:O},c.a.createElement(g.a,{title:N,loading:B.a.isEmpty(u.room),className:F.a.card},c.a.createElement(k.a,{className:F.a.row},c.a.createElement(R.a,{xs:24},c.a.createElement("div",null,c.a.createElement(J.a,{data:["看診時段",P]})),c.a.createElement("div",null,c.a.createElement(J.a,{data:["最近更新",W()().format("MM-DD HH:mm")]})),c.a.createElement("div",null,c.a.createElement(J.a,{data:["總人數",u.total]})),c.a.createElement("div",null,c.a.createElement(J.a,{data:["過號人數",B.a.size(u.register)]}))),c.a.createElement(R.a,{xs:24},c.a.createElement("div",{className:F.a.center},c.a.createElement(M.a,{type:"circle",percent:b.percent,status:b.status,width:180,strokeWidth:8,format:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:F.a.subTitle},"".concat(u.current_number)))}})))),c.a.createElement(k.a,null,c.a.createElement(w.a,{style:{width:100},min:0,max:1024,type:"number",placeholder:"就診號",onChange:S})))))})),U=n(121),V=n.n(U),Y=n(122),q=n.n(Y),G=n(123),K=n.n(G),Z=n(124),$=n.n(Z),ee=n(71),te=n.n(ee);function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te()(e);if(t){var a=te()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $()(this,n)}}var re=function(e){K()(n,e);var t=ne(n);function n(e){return V()(this,n),t.call(this,e)}return q()(n,[{key:"render",value:function(){return c.a.createElement("div",null,"404")}}]),n}(c.a.PureComponent),ae=function(){return c.a.createElement(f.a,{history:d},c.a.createElement(E.d,null,c.a.createElement(E.b,{exact:!0,path:"/",render:function(){return c.a.createElement(E.a,{to:"/appointment/511/1"})}}),c.a.createElement(E.b,{exact:!0,path:"/appointment/:room/:timecode",component:Q}),c.a.createElement(E.b,{path:"*",component:re})))};n(304);i.a.render(c.a.createElement(u.a,{store:h},c.a.createElement(ae,null)),document.getElementById("index"))}})}));