!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var a in n)("object"==typeof exports?exports:e)[a]=n[a]}}(this,(function(){return function(e){function t(t){for(var a,o,i=t[0],l=t[1],u=t[2],m=0,f=[];m<i.length;m++)o=i[m],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);for(s&&s(t);f.length;)f.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(a=!1)}a&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={0:0},c=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="./";var i=this.webpackJsonp=this.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var s=l;return c.push([151,1]),n()}({139:function(e,t,n){e.exports=function(){return new Worker(n.p+"worker.e1e37f9b46cebf8ab087.js")}},151:function(e,t,n){e.exports=n(325)},176:function(e,t,n){(t=n(103)(!1)).push([e.i,".index__time___1l8Y2 {\n  color: rgba(0, 0, 0, 0.25);\n  font-style: normal;\n  font-size: 14px;\n  text-align: left;\n}\n.index__subTitle___3Mm4P {\n  font-size: 40px;\n}\n.index__center___24yEr {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 180px;\n}\n.index__row___hMNoQ {\n  margin-bottom: 12px;\n}\n.index__label___3H-Tm {\n  line-height: 32px;\n  margin-right: 8px;\n}\n.index__card___1B6WF {\n  min-height: 400px;\n}\n\n.index__back___1LoGx {\n  margin-right: 8px;\n}\n",""]),t.locals={time:"index__time___1l8Y2",subTitle:"index__subTitle___3Mm4P",center:"index__center___24yEr",row:"index__row___hMNoQ",label:"index__label___3H-Tm",card:"index__card___1B6WF",back:"index__back___1LoGx"},e.exports=t},25:function(e,t,n){var a=n(102),r=n(176);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};a(r,c);e.exports=r.locals||{}},318:function(e,t,n){(t=n(103)(!1)).push([e.i,".search__input___viML- {\n  width: 200px;\n  margin-bottom: 12px;\n}\n",""]),t.locals={input:"search__input___viML-"},e.exports=t},322:function(e,t,n){},325:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(8),i=n.n(o),l=n(54),u=n(20),s=n(17),m=n(63),f=n(96),p=n(137),_={},d=Object(s.a)(),b=Object(u.c)({router:Object(m.b)(d)}),E=Object(u.d)(Object(u.a)(Object(f.a)(d)),Object(u.a)(p.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}),h=Object(u.e)(b,_,E),v=n(14),x=(n(97),n(61)),y=n.n(x),g=(n(165),n(142)),O=n.n(g),j=(n(101),n(62)),w=n.n(j),k=(n(169),n(143)),M=n.n(k),N=n(24),S=n.n(N),T=(n(98),n(51)),P=n.n(T),C=(n(100),n(52)),D=n.n(C),R=(n(66),n(44)),L=n.n(R),z=n(328),F=n(139),H=n.n(F),W=n(25),X=n.n(W),B=n(140),I=n.n(B),V=n(28),G=n.n(V),J=n(55),Q=n.n(J),U=(n(178),c.a.memo((function(e){var t=Object(v.f)(),n=Object(r.useCallback)((function(){t.push("/appointment")}),[]);return c.a.createElement(P.a,{className:X.a.title},c.a.createElement(D.a,{xs:24},c.a.createElement(L.a,{type:"primary",shape:"circle",onClick:n,icon:c.a.createElement(z.a,null),className:X.a.back,size:"large"}),e.room))})));var Y=c.a.memo((function(){var e=Object(v.g)(),t=e.room,n=e.timecode,o=Object(r.useState)({current_number:0}),i=S()(o,2),l=i[0],u=i[1],s=Object(r.useState)(0),m=S()(s,2),f=m[0],p=m[1],_=Object(r.useState)({percent:100,status:"normal"}),d=S()(_,2),b=d[0],E=d[1],h=Object(r.useState)(!1),x=S()(h,2),g=x[0],j=x[1],k=Object(r.useCallback)((function(e){var t=G.a.toNumber(e.target.value);requestAnimationFrame((function(){return p(t)}))}),[]);Object(r.useEffect)((function(){return G.a.isEmpty(l)||j(!0),(a=new H.a).postMessage({type:"fetch",room:t,timeCode:n}),a.onmessage=function(e){u(e.data),j(!1)},function(){a&&a.terminate()}}),[t,n]);var N=c.a.createElement(U,{room:l.room}),T=Object(r.useMemo)((function(){switch(n){case"1":return"上午";case"2":return"下午";case"3":return"晚上"}}),[n]);return Object(r.useEffect)((function(){var e,t=G.a.subtract(f,l.current_number),n=100*G.a.divide(l.current_number,f);switch(!0){case t<=20&&t>0:e="exception";break;case 0==t:e="success";break;default:e="active"}E({percent:n=t>0?n:100,status:e})}),[f,l.current_number]),Object(r.useEffect)((function(){}),[f,l.current_number]),c.a.createElement("div",{className:X.a.content},c.a.createElement(y.a,{title:N,loading:G.a.isEmpty(l.room),className:X.a.card},c.a.createElement(O.a,{spinning:g},c.a.createElement(P.a,{className:X.a.row},c.a.createElement(D.a,{xs:24},c.a.createElement("div",null,c.a.createElement(Q.a,{data:["看診時段",T]})),c.a.createElement("div",null,c.a.createElement(Q.a,{data:["最近更新",I()().format("MM-DD HH:mm")]})),c.a.createElement("div",null,c.a.createElement(Q.a,{data:["總人數",l.total]})),c.a.createElement("div",null,c.a.createElement(Q.a,{data:["過號人數",G.a.size(l.register)]}))),c.a.createElement(D.a,{xs:24},c.a.createElement("div",{className:X.a.center},c.a.createElement(M.a,{type:"circle",percent:b.percent,status:b.status,width:180,strokeWidth:8,format:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:X.a.subTitle},"".concat(l.current_number)))}})))),c.a.createElement(P.a,null,c.a.createElement(w.a,{style:{width:100},min:0,max:1024,type:"number",placeholder:"就診號",onChange:k})))))})),q=(n(311),n(91)),A=n.n(q),K=n(329),Z=n(93),$=n.n(Z),ee=A.a.Option;var te=c.a.memo((function(){var e=Object(r.useState)(""),t=S()(e,2),n=t[0],a=t[1],o=Object(r.useState)("1"),i=S()(o,2),l=i[0],u=i[1],s=Object(v.f)(),m=Object(r.useCallback)((function(){s.push("/appointment/".concat(n,"/").concat(l))}),[n,l]);return c.a.createElement(y.a,null,c.a.createElement("div",null,c.a.createElement(w.a,{min:0,max:2048,prefix:c.a.createElement(K.a,null),type:"number",placeholder:"診間號碼",onChange:function(e){return a(e.target.value)},className:$.a.input})),c.a.createElement("div",null,c.a.createElement(A.a,{defaultValue:l,className:$.a.input,onChange:function(e){return u(e)}},c.a.createElement(ee,{value:"1"},"上午"),c.a.createElement(ee,{value:"2"},"下午"),c.a.createElement(ee,{value:"3"},"晚上"))),c.a.createElement(L.a,{type:"primary",onClick:m},"查詢"))})),ne=n(145),ae=n.n(ne),re=n(146),ce=n.n(re),oe=n(147),ie=n.n(oe),le=n(148),ue=n.n(le),se=n(94),me=n.n(se);function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=me()(e);if(t){var r=me()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return ue()(this,n)}}var pe=function(e){ie()(n,e);var t=fe(n);function n(e){return ae()(this,n),t.call(this,e)}return ce()(n,[{key:"render",value:function(){return c.a.createElement("div",null,"404")}}]),n}(c.a.PureComponent),_e=function(){return c.a.createElement(m.a,{history:d},c.a.createElement(v.d,null,c.a.createElement(v.b,{exact:!0,path:"/",render:function(){return c.a.createElement(v.a,{to:"/appointment"})}}),c.a.createElement(v.b,{exact:!0,path:"/appointment",component:te}),c.a.createElement(v.b,{exact:!0,path:"/appointment/:room/:timecode",component:Y}),c.a.createElement(v.b,{path:"*",component:pe})))};n(322);i.a.render(c.a.createElement(l.a,{store:h},c.a.createElement(_e,null)),document.getElementById("index"))},93:function(e,t,n){var a=n(102),r=n(318);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var c={insert:"head",singleton:!1};a(r,c);e.exports=r.locals||{}}})}));